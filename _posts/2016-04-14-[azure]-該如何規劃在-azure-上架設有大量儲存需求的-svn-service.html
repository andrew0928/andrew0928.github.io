---
layout: post
title: "[Azure] 該如何規劃在 Azure 上架設有大量儲存需求的 SVN Service"
categories:
- "專欄"
tags: []
published: false
comments: true
---
<p>本來這篇我又想從架構面慢慢講起的，不過這次換個方式好了，先把實作面交代完，再回頭來看看從架構規劃的角度來看為何要這樣進行?</p>

<p>這次的案例需求很簡單，我手上的開發 project 正好有這需求: XXX 系統的後端需要有個可靠的 file repository, 要有良好的版本控制能力，也要夠成熟可靠。同時這有可能大量部屬在 Azure 上面，儲存的空間也要妥善的控制，免的費用暴漲...，經過評估之後，在系統後端架設 SVN server，就變成我們首選的解決方案。</p>

<p>根本篇無關的技術考量，我就直接跳過了。SVN (subversion) 的確是個夠成熟的產品，也足以擔起這個大任。既然是在後端，把它當作像是 content / document repository 來使用，不需直接面對前端的 user，應該架起來就沒事了。但是要把它佈署到 Azure，成本的考量上就碰到難題了...</p>

<p>主要的困難在於，用 VM 架設 SVN 很容易，但是配置 HDD 就頭痛了，這服務需要的儲存空間變化很大，很難預估啊...，</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>&nbsp;</p>

<p>先講一下為什麼會有這篇文章吧。起因源自工作上有碰到這個需求，某個系統有大量的數位內容需要處理，包含大量的儲存需求 (上 TB，需要有嚴格的版本控制)；要能有效率的使用儲存空間 (最好只存差異的部分，節省雲端的儲存費用)；同時要兼顧儲存異動時的可靠性 (交易處理，符合 ACID 的要求)，也要顧及分散式的狀況下，能達到有效可靠的差異更新機制。當然 protocol 能有多種選擇更好，最好是有高效的專屬 protocol，或是用的 http 可以任意挑選；最後是這個 solution 最好夠成熟，能有眾多的維護工具，及廣放的 API / SDK 支援，方便我們開發...。</p>

<p>有沒有這麼好的事情?</p>
